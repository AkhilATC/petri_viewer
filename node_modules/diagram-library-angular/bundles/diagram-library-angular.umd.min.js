!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("diagram-library"),require("mindfusion-common")):"function"==typeof define&&define.amd?define("diagram-library-angular",["exports","@angular/core","diagram-library","mindfusion-common"],e):e((t=t||self)["diagram-library-angular"]={},t.ng.core,t.diagramLibrary,t.MCommon)}(this,(function(t,e,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(t,e,o,i){var n,d=arguments.length,r=d<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(d<3?n(r):d>3?n(e,o,r):n(e,o))||r);return d>3&&r&&Object.defineProperty(e,o,r),r}var d=function(){function t(){this.inplaceEdit=!1,this.enabled=!0,this.roundedLinks=!1,this.routeLinks=!1,this.showGrid=!1,this.autoResize=o.Diagramming.AutoResize.None,this.behavior=o.Diagramming.Behavior.LinkShapes,this.linkShape=o.Diagramming.LinkShape.Polyline,this.showAnchors=o.Diagramming.ShowAnchors.Auto,this.defaultShape="Rectangle",this.linkHeadShapeSize=5,this.nodeCreated=new e.EventEmitter,this.initializeLink=new e.EventEmitter,this.initializeNode=new e.EventEmitter,this.linkClicked=new e.EventEmitter,this.linkCreated=new e.EventEmitter,this.linkDeleted=new e.EventEmitter,this.linkDoubleClicked=new e.EventEmitter,this.linkModified=new e.EventEmitter,this.linkPointed=new e.EventEmitter,this.linkTextEdited=new e.EventEmitter,this.nodeClicked=new e.EventEmitter,this.nodeDeleted=new e.EventEmitter,this.nodeDoubleClicked=new e.EventEmitter,this.nodeModified=new e.EventEmitter,this.nodePointed=new e.EventEmitter,this.nodeTextEdited=new e.EventEmitter,this.linkCreating=new e.EventEmitter,this.linkDeleting=new e.EventEmitter,this.linkModifying=new e.EventEmitter,this.nodeCreating=new e.EventEmitter,this.nodeDeleting=new e.EventEmitter,this.nodeModifying=new e.EventEmitter,this.containerChildAdded=new e.EventEmitter,this.containerChildAdding=new e.EventEmitter,this.containerChildRemoving=new e.EventEmitter,this.containerChildRemoved=new e.EventEmitter,this.containerFolded=new e.EventEmitter,this.containerUnfolded=new e.EventEmitter,this.treeExpanded=new e.EventEmitter,this.treeCollapsed=new e.EventEmitter,this.selectionModifying=new e.EventEmitter,this.repaint=new e.EventEmitter,this.sizeChanged=new e.EventEmitter,this.nodeSelected=new e.EventEmitter,this.nodeDeselected=new e.EventEmitter,this.linkSelected=new e.EventEmitter,this.linkDeselected=new e.EventEmitter,this.controlLoaded=new e.EventEmitter,this.hitTestAdjustmentHandles=new e.EventEmitter,this.drawAdjustmentHandles=new e.EventEmitter,this.clicked=new e.EventEmitter,this.enterInplaceEditMode=new e.EventEmitter,this.leaveInplaceEditMode=new e.EventEmitter,this.createEditControl=new e.EventEmitter,this.cellTextEdited=new e.EventEmitter,this.laneGridCellTextEdited=new e.EventEmitter,this.serializeTag=new e.EventEmitter,this.deserializeTag=new e.EventEmitter,this.tableColumnResizing=new e.EventEmitter,this.tableColumnResized=new e.EventEmitter,this.tableRowResizing=new e.EventEmitter,this.tableRowResized=new e.EventEmitter,this.nodePasted=new e.EventEmitter,this.linkPasted=new e.EventEmitter,this.headerStartResizing=new e.EventEmitter,this.headerResized=new e.EventEmitter,this.itemAdded=new e.EventEmitter,this.itemRemoved=new e.EventEmitter,this.animatedLayoutCompleted=new e.EventEmitter,this.hyperlinkClicked=new e.EventEmitter,this.expandButtonClicked=new e.EventEmitter}return t.prototype.ngOnInit=function(){void 0===this.passedID&&(this.passedID="diagram"),this.canvas.nativeElement.id=this.passedID,o.AbstractionLayer.attachControl(this.diagram,document.getElementById(this.passedID)),this.diagram.setAllowInplaceEdit(this.inplaceEdit),this.diagram.setAutoResize(this.autoResize),this.diagram.setBackBrush(this.backBrush),this.diagram.setBehavior(this.behavior),this.diagram.setDefaultShape(o.Diagramming.Shape.fromId(this.defaultShape)),this.diagram.setEnabled(this.enabled),this.diagram.setLinkHeadShapeSize(this.linkHeadShapeSize),this.diagram.setLinkShape(this.linkShape),this.diagram.setRoundedLinks(this.roundedLinks),this.diagram.setRouteLinks(this.routeLinks),this.diagram.setShowAnchors(this.showAnchors),this.diagram.setShowGrid(this.showGrid);var t=o.Diagramming.Events;for(var e in t){function i(t,e){e.diagram.addEventListener(t,(function(o,i){Reflect.get(e,t).emit({sender:o,args:i})}))}i(e,this)}},t.prototype.ngOnDestroy=function(){this.diagram&&this.diagram.dispose()},n([e.ViewChild("canvas",{static:!0})],t.prototype,"canvas",void 0),n([e.Input("id")],t.prototype,"passedID",void 0),n([e.Input("diagram")],t.prototype,"diagram",void 0),n([e.Input("allowInplaceEdit")],t.prototype,"inplaceEdit",void 0),n([e.Input("enabled")],t.prototype,"enabled",void 0),n([e.Input("roundedLinks")],t.prototype,"roundedLinks",void 0),n([e.Input("routeLinks")],t.prototype,"routeLinks",void 0),n([e.Input("showGrid")],t.prototype,"showGrid",void 0),n([e.Input("autoResize")],t.prototype,"autoResize",void 0),n([e.Input("behavior")],t.prototype,"behavior",void 0),n([e.Input("linkShape")],t.prototype,"linkShape",void 0),n([e.Input("showAnchors")],t.prototype,"showAnchors",void 0),n([e.Input("backBrush")],t.prototype,"backBrush",void 0),n([e.Input("defaulShape")],t.prototype,"defaultShape",void 0),n([e.Input("linkHeadShapeSize")],t.prototype,"linkHeadShapeSize",void 0),n([e.Output("onNodeCreated")],t.prototype,"nodeCreated",void 0),n([e.Output("onInitializeLink")],t.prototype,"initializeLink",void 0),n([e.Output("onInitializeNode")],t.prototype,"initializeNode",void 0),n([e.Output("onLinkClicked")],t.prototype,"linkClicked",void 0),n([e.Output("onLinkCreated")],t.prototype,"linkCreated",void 0),n([e.Output("onLinkDeleted")],t.prototype,"linkDeleted",void 0),n([e.Output("onLinkDoubleClicked")],t.prototype,"linkDoubleClicked",void 0),n([e.Output("onLinkModified")],t.prototype,"linkModified",void 0),n([e.Output("onLinkPointed")],t.prototype,"linkPointed",void 0),n([e.Output("onLinkTextEdited")],t.prototype,"linkTextEdited",void 0),n([e.Output("onNodeClicked")],t.prototype,"nodeClicked",void 0),n([e.Output("onNodeDeleted")],t.prototype,"nodeDeleted",void 0),n([e.Output("onNodeDoubleClicked")],t.prototype,"nodeDoubleClicked",void 0),n([e.Output("onNodeModified")],t.prototype,"nodeModified",void 0),n([e.Output("onNodePointed")],t.prototype,"nodePointed",void 0),n([e.Output("onNodeTextEdited")],t.prototype,"nodeTextEdited",void 0),n([e.Output("onLinkCreating")],t.prototype,"linkCreating",void 0),n([e.Output("onLinkDeleting")],t.prototype,"linkDeleting",void 0),n([e.Output("onLinkModifying")],t.prototype,"linkModifying",void 0),n([e.Output("onNodeCreating")],t.prototype,"nodeCreating",void 0),n([e.Output("onNodeDeleting")],t.prototype,"nodeDeleting",void 0),n([e.Output("onNodeModifying")],t.prototype,"nodeModifying",void 0),n([e.Output("onContainerChildAdded")],t.prototype,"containerChildAdded",void 0),n([e.Output("onContainerChildAdding")],t.prototype,"containerChildAdding",void 0),n([e.Output("onContainerChildRemoving")],t.prototype,"containerChildRemoving",void 0),n([e.Output("onContainerChildRemoved")],t.prototype,"containerChildRemoved",void 0),n([e.Output("onContainerFolded")],t.prototype,"containerFolded",void 0),n([e.Output("onContainerUnfolded")],t.prototype,"containerUnfolded",void 0),n([e.Output("onTreeExpanded")],t.prototype,"treeExpanded",void 0),n([e.Output("onTreeCollapsed")],t.prototype,"treeCollapsed",void 0),n([e.Output("onSelectionModifying")],t.prototype,"selectionModifying",void 0),n([e.Output("onRepaint")],t.prototype,"repaint",void 0),n([e.Output("onSizeChanged")],t.prototype,"sizeChanged",void 0),n([e.Output("onNodeSelected")],t.prototype,"nodeSelected",void 0),n([e.Output("onNodeDeselected")],t.prototype,"nodeDeselected",void 0),n([e.Output("onLinkSelected")],t.prototype,"linkSelected",void 0),n([e.Output("onLinkDeselected")],t.prototype,"linkDeselected",void 0),n([e.Output("onControlLoaded")],t.prototype,"controlLoaded",void 0),n([e.Output("onHitTestAdjustmentHandles")],t.prototype,"hitTestAdjustmentHandles",void 0),n([e.Output("onDrawAdjustmentHandles")],t.prototype,"drawAdjustmentHandles",void 0),n([e.Output("onClicked")],t.prototype,"clicked",void 0),n([e.Output("onEnterInplaceEditMode")],t.prototype,"enterInplaceEditMode",void 0),n([e.Output("onLeaveInplaceEditMode")],t.prototype,"leaveInplaceEditMode",void 0),n([e.Output("onCreateEditControl")],t.prototype,"createEditControl",void 0),n([e.Output("onCellTextEdited")],t.prototype,"cellTextEdited",void 0),n([e.Output("onLaneGridCellTextEdited")],t.prototype,"laneGridCellTextEdited",void 0),n([e.Output("onSerializeTag")],t.prototype,"serializeTag",void 0),n([e.Output("onDeserializeTag")],t.prototype,"deserializeTag",void 0),n([e.Output("onTableColumnResizing")],t.prototype,"tableColumnResizing",void 0),n([e.Output("onTableColumnResized")],t.prototype,"tableColumnResized",void 0),n([e.Output("onTableRowResizing")],t.prototype,"tableRowResizing",void 0),n([e.Output("onTableRowResized")],t.prototype,"tableRowResized",void 0),n([e.Output("onNodePasted")],t.prototype,"nodePasted",void 0),n([e.Output("onLinkPasted")],t.prototype,"linkPasted",void 0),n([e.Output("onHeaderStartResizing")],t.prototype,"headerStartResizing",void 0),n([e.Output("onHeaderResized")],t.prototype,"headerResized",void 0),n([e.Output("onItemAdded")],t.prototype,"itemAdded",void 0),n([e.Output("onItemRemoved")],t.prototype,"itemRemoved",void 0),n([e.Output("onAnimatedLayoutCompleted")],t.prototype,"animatedLayoutCompleted",void 0),n([e.Output("onHyperlinkClicked")],t.prototype,"hyperlinkClicked",void 0),n([e.Output("onExpandButtonClicked")],t.prototype,"expandButtonClicked",void 0),t=n([e.Component({selector:"diagram-view",template:'\n    <div style="position: absolute; overflow: auto; width: auto; height: auto; top: 0px; bottom: 0px; left: 0px; right: 0px; text-align: left;">\n       <canvas #canvas></canvas>\n    </div>'})],t)}(),r=function(){function t(){this.enabled=!0,this.icon_size=new o.Drawing.Size(24,24),this.node_size=new o.Drawing.Size(24,24),this.padding=5,this.orientation=o.Diagramming.Orientation.Vertical,this.tooltipDelay=1e3,this.shapeLibraryLocation=""}return t.prototype.ngAfterViewInit=function(){void 0===this.node_id&&(this.node_id="nodeList"),this.canvas.nativeElement.id=this.node_id,this.nodeList=o.Diagramming.NodeListView.create(document.getElementById(this.node_id)),this.nodeList.setEnabled(this.enabled),this.nodeList.setIconSize(this.icon_size),this.nodeList.setDefaultNodeSize(this.node_size),this.nodeList.setPadding(this.padding),this.nodeList.setOrientation(this.orientation),this.nodeList.setShapeLibraryLocation(this.shapeLibraryLocation),this.nodeList.setTooltipDelay(this.tooltipDelay),this.addNode(this.nodes,this.caption)},t.prototype.addNode=function(t,e){for(var o=0;o<t.length;++o)this.nodeList.addNode(t[o],e[o])},n([e.ViewChild("nodeList",{static:!0})],t.prototype,"canvas",void 0),n([e.Input("id")],t.prototype,"node_id",void 0),n([e.Input("enabled")],t.prototype,"enabled",void 0),n([e.Input("iconSize")],t.prototype,"icon_size",void 0),n([e.Input("defaultNodeSize")],t.prototype,"node_size",void 0),n([e.Input("padding")],t.prototype,"padding",void 0),n([e.Input("orientation")],t.prototype,"orientation",void 0),n([e.Input("tooltipDelay")],t.prototype,"tooltipDelay",void 0),n([e.Input("shapeLibraryLocation")],t.prototype,"shapeLibraryLocation",void 0),n([e.Input("captions")],t.prototype,"caption",void 0),n([e.Input("nodes")],t.prototype,"nodes",void 0),t=n([e.Component({selector:"node-list-view",template:'<div style="overflow-y: auto; overflow-x: hidden; width: 230px; height: 200px;">\n                 <canvas #nodeList width="230" height="200" ></canvas>\n               </div>'})],t)}(),p=function(){function t(){this.enabled=!0,this.allow_zoom=!1,this.back_color="#FFFFFF",this.scale_factor=17.825311942959,this.auto_s_amount=0,this.scale_mode=o.Diagramming.ScaleMode.FitAll}return t.prototype.ngAfterViewInit=function(){void 0===this.view_id&&(this.view_id="overview"),this.canvas.nativeElement.id=this.view_id;var t=o.Diagramming.Overview.create(document.getElementById(this.view_id));t.setDiagram(this.diagram),t.setEnabled(this.enabled),t.setAllowZoom(this.allow_zoom),t.setScaleFactor(this.scale_factor),t.setAutoScrollAmount(this.auto_s_amount),t.setScaleMode(this.scale_mode),t.setBackColor(this.back_color)},n([e.ViewChild("overview",{static:!0})],t.prototype,"canvas",void 0),n([e.Input("id")],t.prototype,"view_id",void 0),n([e.Input("diagram")],t.prototype,"diagram",void 0),n([e.Input("enabled")],t.prototype,"enabled",void 0),n([e.Input("allowZoom")],t.prototype,"allow_zoom",void 0),n([e.Input("backColor")],t.prototype,"back_color",void 0),n([e.Input("scaleFactor")],t.prototype,"scale_factor",void 0),n([e.Input("autoScrollAmount")],t.prototype,"auto_s_amount",void 0),n([e.Input("scaleMode")],t.prototype,"scale_mode",void 0),t=n([e.Component({selector:"overview",template:'<div style=" width: 200px; height: 200px; ">\n                 <canvas #overview width="200" height="200"></canvas>\n               </div>'})],t)}(),s=function(){function t(){this.gr_unit=o.Drawing.GraphicsUnit.Millimeter,this.en_guides=!0,this.vert_visible=!0,this.hor_visible=!0,this.pointer_color="red",this.text_color="#000000",this.guide_color="#000000",this.projection_color="lightSteelBlue",this.back_color="#dddddd",this.fore_Color="#000000"}return t.prototype.ngAfterContentInit=function(){void 0===this.ruler_id&&(this.ruler_id="ruler"),this.div_id.nativeElement.id=this.ruler_id;var t=new o.Diagramming.Ruler(document.getElementById(this.ruler_id));this.input&&this.input instanceof d?t.setDiagram(this.input.diagram):console.error("ruler requirs diagram-view"),t.setUnit(this.gr_unit),t.setEnableGuides(this.en_guides),t.setProjectRotatedBounds(this.pr_bounds),t.setNegatedX(this.neg_x),t.setNegatedY(this.neg_y),t.setVerticalScaleVisible(this.vert_visible),t.setHorizontalScaleVisible(this.hor_visible),t.setPointerColor(this.pointer_color),t.setTextColor(this.text_color),t.setGuideColor(this.guide_color),t.setProjectionColor(this.projection_color),t.setBackColor(this.back_color),t.setForeColor(this.fore_Color)},n([e.ContentChild(d)],t.prototype,"input",void 0),n([e.ViewChild("id",{static:!0})],t.prototype,"div_id",void 0),n([e.Input("unit")],t.prototype,"gr_unit",void 0),n([e.Input("enableGuides")],t.prototype,"en_guides",void 0),n([e.Input("projectRotatedBounds")],t.prototype,"pr_bounds",void 0),n([e.Input("negatedY")],t.prototype,"neg_y",void 0),n([e.Input("negatedX")],t.prototype,"neg_x",void 0),n([e.Input("verticalScaleVisible")],t.prototype,"vert_visible",void 0),n([e.Input("horizontalScaleVisible")],t.prototype,"hor_visible",void 0),n([e.Input("id")],t.prototype,"ruler_id",void 0),n([e.Input("pointerColor")],t.prototype,"pointer_color",void 0),n([e.Input("textColor")],t.prototype,"text_color",void 0),n([e.Input("guideColor")],t.prototype,"guide_color",void 0),n([e.Input("projectionColor")],t.prototype,"projection_color",void 0),n([e.Input("backColor")],t.prototype,"back_color",void 0),n([e.Input("foreColor")],t.prototype,"fore_Color",void 0),t=n([e.Component({selector:"ruler",template:"<div #id>\n                   <ng-content></ng-content>\n               </div>"})],t)}(),a=function(){function t(){this.enabled=!0,this.cornerRadius=2,this.padding=2,this.snapToZoomStep=!0,this.tick_Position=o.Controls.TickPosition.Left,this.show_label=!0,this.txt_color="rgba(77,83,94,1)",this.sh_color="gray",this.inn_color="rgba(91,91,91,1)",this.br_color="rgba(77,83,94,1)",this.act_Color="skyBlue",this.fl="#FFFFFF",this.back_color="#FFFFFF",this.scr_step=10,this.z_step=10,this.mx_Z_fac=200,this.mn_Z_fac=0,this.z_fac=100}return t.prototype.ngAfterViewInit=function(){void 0===this.zoom_id&&(this.zoom_id="zoomer"),this.canvas.nativeElement.id=this.zoom_id;var t=o.Controls.ZoomControl.create(document.getElementById(this.zoom_id));t.setCornerRadius(this.cornerRadius),t.setPadding(this.padding),t.setSnapToZoomStep(this.snapToZoomStep),t.setTickPosition(this.tick_Position),t.setShowLabel(this.show_label),t.setTextColor(this.txt_color),t.setShadowColor(this.sh_color),t.setInnerColor(this.inn_color),t.setBorderColor(this.br_color),t.setActiveColor(this.act_Color),t.setFill(this.fl),t.setBackColor(this.back_color),t.setScrollStep(this.scr_step),t.setZoomStep(this.z_step),t.setMaxZoomFactor(this.mx_Z_fac),t.setMinZoomFactor(this.mn_Z_fac),t.setZoomFactor(this.z_fac),t.setEnabled(!0),t.setTarget(this.diagram)},n([e.ViewChild("zoomer",{static:!0})],t.prototype,"canvas",void 0),n([e.Input("id")],t.prototype,"zoom_id",void 0),n([e.Input("diagram")],t.prototype,"diagram",void 0),n([e.Input("enabled")],t.prototype,"enabled",void 0),n([e.Input("cornerRadius")],t.prototype,"cornerRadius",void 0),n([e.Input("padding")],t.prototype,"padding",void 0),n([e.Input("snapToZoomStep")],t.prototype,"snapToZoomStep",void 0),n([e.Input("tickPosition")],t.prototype,"tick_Position",void 0),n([e.Input("showLabel")],t.prototype,"show_label",void 0),n([e.Input("textColor")],t.prototype,"txt_color",void 0),n([e.Input("shadowColor")],t.prototype,"sh_color",void 0),n([e.Input("innerColor")],t.prototype,"inn_color",void 0),n([e.Input("borderColor")],t.prototype,"br_color",void 0),n([e.Input("activeColor")],t.prototype,"act_Color",void 0),n([e.Input("fill")],t.prototype,"fl",void 0),n([e.Input("backColor")],t.prototype,"back_color",void 0),n([e.Input("scrollStep")],t.prototype,"scr_step",void 0),n([e.Input("zoomStep")],t.prototype,"z_step",void 0),n([e.Input("maxZoomFactor")],t.prototype,"mx_Z_fac",void 0),n([e.Input("minZoomFactor")],t.prototype,"mn_Z_fac",void 0),n([e.Input("zoomFactor")],t.prototype,"z_fac",void 0),t=n([e.Component({selector:"zoom-control",template:'<div style="width: 50px; height: 300px;">\n                  <canvas #zoomer width="50px" height="300px"></canvas>\n               </div>'})],t)}(),l=function(){function t(){}return t=n([e.NgModule({declarations:[d,r,p,s,a],imports:[],exports:[d,r,s,p,a]})],t)}(),u=i;t.AngularDiagram=l,t.Common=u,t.DiagramView=d,t.NodeListView=r,t.Overview=p,t.Ruler=s,t.ZoomControl=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=diagram-library-angular.umd.min.js.map