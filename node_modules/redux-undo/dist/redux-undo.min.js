!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxUndo=t():e.ReduxUndo=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=e.past,n=e.future;return t.length+1+n.length}function o(e,t,o){m.log("inserting",t),m.log("new free: ",o-r(e));var i=e.past,u=e.present,a=o&&r(e)>=o;return{past:[].concat(n(i.slice(a?1:0)),[u]),present:t,future:[]}}function i(e){var t=e.past,r=e.present,o=e.future;return t.length>0?{past:t.slice(0,t.length-1),present:t[t.length-1],future:[r].concat(n(o))}:e}function u(e){var t=e.past,r=e.present,o=e.future;return o.length>0?{future:o.slice(1,o.length),present:o[0],past:[].concat(n(t),[r])}:e}function a(e,t){if(0===t)return u(e);if(0>t||t>=e.future.length)return e;var n=e.past,r=e.present,o=e.future;return{future:o.slice(t+1),present:o[t],past:n.concat([r]).concat(o.slice(0,t))}}function s(e,t){if(t===e.past.length-1)return i(e);if(0>t||t>=e.past.length)return e;var n=e.past,r=e.present,o=e.future;return{future:n.slice(t+1).concat([r]).concat(o),present:n[t],past:n.slice(0,t)}}function p(e,t){return t>0?a(e,t-1):0>t?s(e,e.past.length+t):e}function c(e){return{past:[],present:e,future:[]}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x=t.debug;var n={initTypes:l(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},undoType:t.undoType||A.UNDO,redoType:t.redoType||A.REDO,jumpToPastType:t.jumpToPastType||A.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||A.JUMP_TO_FUTURE,jumpType:t.jumpType||A.JUMP,clearHistoryType:t.clearHistoryType||A.CLEAR_HISTORY};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.history,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.start(r,t);var l=t;n.history||(m.log("history is uninitialized"),void 0===t?(l=c(e(t,{})),m.log("do not initialize on probe actions")):f(t)?(l=n.history=t,m.log("initialHistory initialized: initialState is a history",n.history)):(l=n.history=c(t),m.log("initialHistory initialized: initialState is not a history",n.history)));var d=void 0;switch(r.type){case void 0:return l;case n.undoType:return d=i(l),m.log("perform undo"),m.end(d),d;case n.redoType:return d=u(l),m.log("perform redo"),m.end(d),d;case n.jumpToPastType:return d=s(l,r.index),m.log("perform jumpToPast to "+r.index),m.end(d),d;case n.jumpToFutureType:return d=a(l,r.index),m.log("perform jumpToFuture to "+r.index),m.end(d),d;case n.jumpType:return d=p(l,r.index),m.log("perform jump to "+r.index),m.end(d),d;case n.clearHistoryType:return d=c(l.present),m.log("perform clearHistory"),m.end(d),d;default:if(d=e(l.present,r),n.initTypes.some(function(e){return e===r.type}))return m.log("reset history due to init action"),m.end(n.history),n.history;if(l.present===d)return l;if("function"==typeof n.filter&&!n.filter(r,d,l)){var y=h({},l,{present:d});return m.log("filter prevented action, not storing it"),m.end(y),y}return l=o(l,d,n.limit),m.log("inserted new state into history"),m.end(l),l}}}function f(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function y(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function g(e){var t=l(e);return function(e){return t.indexOf(e.type)>=0}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=l(e);return function(e){return t.indexOf(e.type)<0}}function v(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}},function(){return!0})}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.parseActions=l,t.default=d,t.isHistory=f,t.distinctState=y,t.includeAction=g,t.excludeAction=T,t.combineFilters=v;var x=void 0,m=function(){function e(){a={header:[],prev:[],action:[],next:[],msgs:[]}}function t(){var e=a,t=e.header,r=e.prev,o=e.next,i=e.action,u=e.msgs;if(console.group){var s,p,c,l,d;(s=console).groupCollapsed.apply(s,n(t)),(p=console).log.apply(p,n(r)),(c=console).log.apply(c,n(i)),(l=console).log.apply(l,n(o)),(d=console).log.apply(d,n(u)),console.groupEnd()}else{var f,y,g,T,v;(f=console).log.apply(f,n(t)),(y=console).log.apply(y,n(r)),(g=console).log.apply(g,n(i)),(T=console).log.apply(T,n(o)),(v=console).log.apply(v,n(u))}}function r(e,t,n){return["%c"+e,"color: "+t+"; font-weight: bold",n]}function o(t,n){e(),x&&(console.group?(a.header=["%credux-undo","font-style: italic","action",t.type],a.action=r("action",s.action,t),a.prev=r("prev history",s.prevState,n)):(a.header=["redux-undo action",t.type],a.action=["action",t],a.prev=["prev history",n]))}function i(e){x&&(a.next=console.group?r("next history",s.nextState,e):["next history",e],t())}function u(){if(x){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];a.msgs=a.msgs.concat([].concat(t,["\n"]))}}var a=void 0,s={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};return{start:o,end:i,log:u}}(),A=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionCreators={undo:function(){return{type:A.UNDO}},redo:function(){return{type:A.REDO}},jumpToFuture:function(e){return{type:A.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:A.JUMP_TO_PAST,index:e}},jump:function(e){return{type:A.JUMP,index:e}},clearHistory:function(){return{type:A.CLEAR_HISTORY}}}}])});